(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b86d0324"],{"12fb":function(e,t,r){"use strict";var o=r("4fdc"),a=r.n(o);a.a},"2cc2":function(e,t,r){},"34ce":function(e,t,r){"use strict";var o=r("2cc2"),a=r.n(o);a.a},"498a":function(e,t,r){"use strict";var o=r("23e7"),a=r("58a8").trim,s=r("c8d2");o({target:"String",proto:!0,forced:s("trim")},{trim:function(){return a(this)}})},"4fdc":function(e,t,r){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var o=r("1d80"),a=r("5899"),s="["+a+"]",i=RegExp("^"+s+s+"*"),n=RegExp(s+s+"*$"),c=function(e){return function(t){var r=String(o(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(n,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},"709b":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addDomain"},[r("BaseTemplate",{attrs:{"router-name":"添加域名","router-path":"/add"},scopedSlots:e._u([{key:"main",fn:function(){return[r("div",{staticClass:"addMain"},[r("div",{staticClass:"addForm"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"域名"}},[r("el-input",{attrs:{size:"medium"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"区域文件"}},[r("el-input",{attrs:{size:"medium"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.submit}},[e._v("立即创建")]),r("el-button",{attrs:{size:"medium"},on:{click:e.clear}},[e._v("清除")])],1)],1)],1)])]},proxy:!0}])})],1)},a=[],s=(r("b0c0"),r("498a"),r("fddf")),i={name:"addDomain",data:function(){return{form:{name:"",path:""}}},methods:{submit:function(){var e=this;for(var t in this.form)if(0===this.form[t].trim().length)return void this.$message({message:"表单未填写完成",type:"error"});this.axios.post("/agent/domain/create/",{domain:this.form.name,path:this.form.path},{headers:{Authorization:this.$cookie.get("Token")}}).then((function(t){var r="success";200!==t.data.code&&(r="error"),e.$message({message:t.data.msg,type:r}),e.loadData(1)}))},clear:function(){this.form={name:"",path:"",key:""}}},components:{BaseTemplate:s["a"]}},n=i,c=(r("34ce"),r("2877")),u=Object(c["a"])(n,o,a,!1,null,"cac96e18",null);t["default"]=u.exports},7130:function(e,t,r){"use strict";var o=r("b886"),a=r.n(o);a.a},b0c0:function(e,t,r){var o=r("83ab"),a=r("9bf2").f,s=Function.prototype,i=s.toString,n=/^\s*function ([^ (]*)/,c="name";o&&!(c in s)&&a(s,c,{configurable:!0,get:function(){try{return i.call(this).match(n)[1]}catch(e){return""}}})},b886:function(e,t,r){},c8d2:function(e,t,r){var o=r("d039"),a=r("5899"),s="​᠎";e.exports=function(e){return o((function(){return!!a[e]()||s[e]()!=s||a[e].name!==e}))}},fddf:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"menu"}},[r("Header"),r("div",{staticClass:"content"},[r("el-container",[r("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[r("el-menu",{attrs:{"default-active":e.$route.path,router:""}},[r("el-menu-item",{attrs:{index:"/domain"}},[r("i",{staticClass:"el-icon-menu"}),e._v("域名列表")]),r("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.is_superuser,expression:"is_superuser"}],attrs:{index:"/add"}},[r("i",{staticClass:"el-icon-circle-plus"}),e._v("添加域名")]),r("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:e.is_superuser,expression:"is_superuser"}],attrs:{index:"/user"}},[r("i",{staticClass:"el-icon-user-solid"}),e._v("用户管理")]),r("el-menu-item",{attrs:{index:"/logs"}},[r("i",{staticClass:"el-icon-s-tools"}),e._v("操作日志")])],1)],1),r("el-container",[r("el-main",[r("div",{staticClass:"breadcrumb"},[r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:e.routerPath}}},[e._v(e._s(e.routerName))]),e.currentRouterName?r("el-breadcrumb-item",[e._v(e._s(e.currentRouterName))]):e._e()],1)],1),e._t("main")],2)],1)],1)],1)],1)},a=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"header"}},[r("el-dialog",{attrs:{title:"修改密码",visible:e.dialogFormVisible,width:"20%"},on:{"update:visible":function(t){e.dialogFormVisible=t},closed:e.changeCancel}},[r("el-form",{attrs:{model:e.form}},[r("el-form-item",{attrs:{label:"新密码","label-width":e.formLabelWidth}},[r("el-input",{attrs:{"show-password":"",autocomplete:"off"},model:{value:e.form.Password,callback:function(t){e.$set(e.form,"Password",t)},expression:"form.Password"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.changeSubmit}},[e._v("确 定")])],1)],1),r("el-header",[r("el-container",[r("div",{staticClass:"logo"},[e._v(" BindPod ")]),r("div",{staticClass:"userInfo"},[r("el-dropdown",{on:{command:e.handleCommand}},[r("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.username)),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"changePassword"}},[r("i",{staticClass:"el-icon-user"}),e._v("修改密码")]),r("el-dropdown-item",{attrs:{command:"logout"}},[r("i",{staticClass:"el-icon-s-promotion"}),e._v("安全退出")])],1)],1)],1)])],1)],1)},i=[],n={name:"Header",computed:{username:function(){return this.$cookie.get("username","")}},data:function(){return{dialogFormVisible:!1,formLabelWidth:"60px",form:{Password:""}}},methods:{changeSubmit:function(){var e=this,t=this.$cookie.get("user"),r=this.form.Password;this.axios.post("/agent/user/change/",{password:r,username:t},{headers:{Authorization:this.$cookie.get("Token")}}).then((function(t){var r="success";200!==t.data.code&&(r="error"),e.$message({message:t.data.msg,type:r}),e.dialogFormVisible=!1,e.$cookie.delete("Token"),e.$cookie.delete("username"),e.$cookie.delete("user"),e.$cookie.delete("is_superuser"),e.$router.push("/login")}))},changeCancel:function(){this.form={Password:""}},handleCommand:function(e){var t=this;"logout"===e?this.$confirm("确定退出当前账号？","退出",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){var e=t.$cookie.get("user");t.axios.post("/logout/",{username:e},{headers:{Authorization:t.$cookie.get("Token")}}),t.$cookie.delete("Token"),t.$cookie.delete("username"),t.$cookie.delete("user"),t.$cookie.delete("is_superuser"),t.$router.push("/login")})):this.dialogFormVisible=!0}}},c=n,u=(r("7130"),r("2877")),l=Object(u["a"])(c,s,i,!1,null,"2adc581f",null),m=l.exports,d={name:"BaseTemplate",data:function(){return{is_superuser:this.$cookie.get("is_superuser")}},props:{routerPath:String,routerName:String,currentRouterName:String},components:{Header:m}},f=d,p=(r("12fb"),Object(u["a"])(f,o,a,!1,null,"1da2126e",null));t["a"]=p.exports}}]);
//# sourceMappingURL=chunk-b86d0324.7344cef4.js.map